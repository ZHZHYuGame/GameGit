四丶参与过MOBA类游戏项目的战斗系统,以及了解STG,MMO,RPG,ACT类型的游戏战斗系统的流程

        前言:

一个完整的技能系统逻辑层主要包括三个模块:

        技能模块,buff模块,子弹模块

在我之前的项目中,这三个模块并不是同一个人负责的,所以这些模块间的联系不够紧密,这三个模块中的技能模块是很复杂的,也是战斗系统中很重要的一个版块,也是很难的一个版块,因为策划的初衷可能就是实现一个基础的技能实现,但是随着后期的游戏的需求来看,技能会不停地变动更改,bug频出;

        正文:

一丶技能系统
技能的类型是分为多种的:

        被动类型的技能,主动施法的技能,开关类的技能,激活类的技能,引导类的技能;

不同的技能类型如何设计?(在我们的技能系统中，所有的技能里面不包含任何具体技能效果及逻辑，每个技能根据其类型提供若干抽象接口，具体执行效果由策划去配置。)

被动类型的技能:

        当这个技能被标记或者类型为被动技能时,就会在游戏一开始即可初始化生效,初始化的时候会有抽象行为接口Init().那么被动技能就可以在这个接口中执行一些行为,具体执行哪些功能是有策划提供的,一般情况下其实被动技能也属于技能系统中的Buff类,开始的时候就直接监听各种事件以触发各种效果;

主动施法类型的技能:

        1.技能释放的时候不需要目标就可以释放(如群疗,踩地板技能)

        2.技能释放时候需要选定目标(单体指向,或指向多个目标)

        3.选定一个区域为目标(AOE范围技能)

技能是千变万化的,比如有些策划需求为:一个闪现技能,如果当前没有选择的目标则朝角色前方闪现5米,如果有目标的话就闪现到目标身后如何实现?

        当释放技能的时候保存当前目标的信息(是否有目标),后续在技能的前摇起手阶段就能知道目标是否存在,然后实现不同的效果

技能很重要的模块就是获取到他的前摇阶段,施法阶段,后摇阶段

        前摇阶段不允许其他技能的释放,除非有别的技能的状态为可强制立即释放(就比如净化的技能,或者是释放一个无敌状态例如蛮王的大招(这种技能的权重值需要设的特别高))技能前摇的时长一般为动画的抬手到攻击帧的时长,比如播放一个出拳的动画0.2秒后到达攻击点,这个时间点就是前摇的时长,这个时长主要根据策划的配置

        施法阶段一般为体现技能的具体逻辑的时间,比如对目标造成伤害,产生相应的效果,这一段之后就是后摇的阶段

        后摇阶段一般是不能被其他技能打断的,除非这个技能可以触发连招机制或者是被强制释放类型技能给打断

开关类型的技能:

        会提供两个接口用来控制,一般为ToggleOn和ToggleOff,通过调用添加/移除Buff来实现具体效果

激活类型的技能:

        会提供两个接口用来控制,一般为Activate和Deactivate,通过调用显示/隐藏Buff来实现具体效果

引导类型的技能:

        一般在技能释放的时候,前摇和后摇的中间会存在一个引导阶段,这个阶段也是很重要的一个阶段,一般为3个接口供策划去配置这个引导阶段的总时长和间隔时长,用间隔来拆分这个阶段需要实现什么样的逻辑,这个技能的多种其他需求都可以再这个阶段内实现,在这个引导的阶段就可以实现保证简洁的情况下去覆盖几乎所有的需求

二丶Buff系统

        buff系统是战斗系统中最核心又最复杂的系统,用来增加游戏战斗的深度还有可玩性,支持更多的效果和功能

        正文

buff的定义一般分为三个层次

BuffBase:所有Buff的基类,包含各类成员函数和基本接口

Modifier:继承于BuffBase,是一个关于buff的修改器,可以用来修改当前目标的属性状态等等

9.25 待补充....